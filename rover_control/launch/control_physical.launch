<?xml version="1.0"?>

<launch>
    <include file="$(find polyorbite_rover)/launch/description.launch" />

    <!-- ROBOTIC ARM -->
    <include file="$(find sixi_robot)/launch/sixi_competition.launch" />

    <node name="rover_node" pkg="polyorbite_rover" type="rover_node" />
    <node name="rover_drive_train_proxy" pkg="rover_hardware_proxy" type="rover_drive_train_proxy.py" />

    <node name="pca9685_node" pkg="pwm_pca9685" type="pca9685_node">
        <param name="device" value="/dev/i2c-8" />
    </node>

    <rosparam command="load" file="$(find polyorbite_rover)/config/control.yaml" />

    <node name="controller_spawner" pkg="controller_manager" type="spawner"
          args="rover_joint_publisher rover_velocity_controller" />

    <node name="robot_state_publisher" pkg="robot_state_publisher" type="robot_state_publisher" />

    <node name="rqt_robot_steering" pkg="rqt_robot_steering" type="rqt_robot_steering">
        <param name="default_topic" value="/rover_velocity_controller/cmd_vel"/>
    </node>

    <node name="rosbridge_websocket" pkg="rosbridge_server" type="rosbridge_websocket" />
</launch>
